/*!
 * Class.js
 * Version 0.3.2
 * 
 * Copyright(c) 2012 Gregory Jacobs.
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 * 
 * https://github.com/gregjacobs/Class.js
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{a.Class=b()}}(this,function(){function a(f){return !!f&&Object.prototype.toString.call(f)==="[object Object]"}var e=false;if(typeof window!=="undefined"){var d=window.navigator.userAgent.toLowerCase();e=/msie/.test(d)&&!(/opera/.test(d))}var c=0;var b=function(f){return b.extend(Object,f)};b.create=function(f){return b.extend(Object,f)};b.apply=function(h,i,g){if(g){b.apply(h,g)}if(h&&i&&typeof i==="object"){for(var f in i){h[f]=i[f]}}return h};b.applyIf=function(g,h){if(g){for(var f in h){if(typeof g[f]==="undefined"){g[f]=h[f]}}}return g};b.abstractMethod=function(){throw new Error("method must be implemented in subclass")};b.extend=(function(){var g=/xyz/.test(function(){var h="xyz"})?/\b_super\b/:/.*/;var f=function(i){for(var h in i){this[h]=i[h]}};return function(w,u){if(arguments.length===1){u=w;w=Object}var m,l,x=function(){},k,j=w.prototype,q=!!u.abstractClass,h;var s=u.statics,n=u.inheritedStatics,p=u.mixins;delete u.statics;delete u.inheritedStatics;delete u.mixins;var r=function(y,i){return function(){var B=this._super,A=this;this._super=function(C){return j[y].apply(A,C||[])};var z=i.apply(this,arguments);this._super=B;return z}};for(h in u){if(h!=="constructor"&&u.hasOwnProperty(h)&&typeof u[h]==="function"&&typeof j[h]==="function"&&!u[h].hasOwnProperty("__Class")&&g.test(u[h])){u[h]=r(h,u[h])}}if(u.hasOwnProperty("constructor")&&typeof u.constructor==="function"&&typeof j.constructor==="function"&&g.test(u.constructor)){u.constructor=r("constructor",u.constructor)}if(u.constructor!==Object){l=u.constructor;delete u.constructor}else{l=(w===Object)?function(){}:function(){return w.apply(this,arguments)}}m=function(){var i=this.constructor.prototype;if(i.hasOwnProperty("abstractClass")&&i.abstractClass===true){throw new Error("Error: Cannot instantiate abstract class")}return l.apply(this,arguments)};x.prototype=j;k=m.prototype=new x();k.constructor=m;m.superclass=m.__super__=j;m.__Class=true;m.override=function(i){b.override(m,i)};m.extend=function(i){return b.extend(m,i)};m.hasMixin=function(i){return b.hasMixin(m,i)};k.superclass=k.supr=function(){return j};k.override=f;k.hasMixin=function(i){return b.hasMixin(this.constructor,i)};b.override(m,u);if(!q){for(var t in k){if(k[t]===b.abstractMethod){if(k.hasOwnProperty(t)){throw new Error("The class being created has abstract method '"+t+"', but is not declared with 'abstractClass: true'")}else{throw new Error("The concrete subclass being created must implement abstract method: '"+t+"', or be declared abstract as well (using 'abstractClass: true')")}}}}if(n||w.__Class_inheritedStatics){n=b.apply({},n,w.__Class_inheritedStatics);b.apply(m,n);m.__Class_inheritedStatics=n}if(s){b.apply(m,s)}if(p){for(var o=p.length-1;o>=0;o--){var v=p[o].prototype;for(h in v){if(typeof k[h]==="undefined"){k[h]=v[h]}}}m.mixins=p}if(typeof m.onClassExtended==="function"){m.onClassExtended(m)}return m}})();b.override=function(f,h){if(h){var g=f.prototype;b.apply(g,h);if(e&&h.hasOwnProperty("toString")){g.toString=h.toString}}};b.isInstanceOf=function(g,f){if(typeof f!=="function"){throw new Error("jsClass argument of isInstanceOf method expected a Function (constructor function) for a JavaScript class")}if(!a(g)){return false}else{if(g instanceof f){return true}else{if(b.hasMixin(g.constructor,f)){return true}else{return false}}}};b.isSubclassOf=function(f,i){if(typeof f!=="function"||typeof i!=="function"){return false}else{if(f===i){return true}else{var g=f,h=g.prototype;while((g=(h=g.__super__)&&h.constructor)){if(h.constructor===i){return true}}}}return false};b.hasMixin=function(h,j){var g=j.__Class_classId;if(!g){g=j.__Class_classId=++c}var o=h.__Class_hasMixinCache;if(!o){o=h.__Class_hasMixinCache={}}if(g in o){return o[g]}else{var l=h.mixins,n=(h.superclass||h.__super__);if(l){for(var k=0,m=l.length;k<m;k++){if(l[k]===j){return(o[g]=true)}}}if(n&&n.constructor&&n.constructor!==Object){var f=b.hasMixin(n.constructor,j);return(o[g]=f)}else{return(o[g]=false)}}};return b}));